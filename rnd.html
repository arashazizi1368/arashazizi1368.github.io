<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <title>افزودن به آرایه و نمایش تصادفی</title>
  <style>
    body {
      font-family: sans-serif;
      direction: ltr;
      text-align: center;
      margin-top: 50px;
    }
    input, button {
      padding: 10px;
      margin: 5px;
      font-size: 16px;
    }
    #result, #arrayDisplay {
      margin-top: 20px;
      /* font-weight: bold; */
      color: #2c3e50;
      white-space: pre-line;
    }
  </style>
</head>
<body>
    <div class="container mt-5">
        <h2>افزودن به آرایه</h2>
        <div class="input-group justify-content-center mb-3 w-25 mx-auto">
        <input type="text" id="textInput" placeholder="Write an item..." class="form-control w-50 mx-auto">
        <button id="addBtn" class="btn btn-primary">Add item</button>
    </div>
        
        
        <div id="arrayDisplay">Items are empty!</div>
        <br>
        <button id="randomBtn" class="btn btn-success">Random selection</button>
        <button id="resetBtn" class="btn btn-danger">Reset items</button>

        
        <div id="result"></div>
    </div>
  <script>
    const dataArray = [];
    const textInput = document.getElementById('textInput');
    const addBtn = document.getElementById('addBtn');
    const randomBtn = document.getElementById('randomBtn');
    const resetBtn = document.getElementById('resetBtn');
    const arrayDisplay = document.getElementById('arrayDisplay');
    const result = document.getElementById('result');

    // Add item on button click
    addBtn.addEventListener('click', addItem);

    // Add item on Enter key press
    textInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') addItem();
    });

    // Random selection
    randomBtn.addEventListener('click', () => {
      if (dataArray.length > 0) {
        const randomItem = dataArray[Math.floor(Math.random() * dataArray.length)];
        // result.textContent = `Random item:\n${randomItem}`;
        result.innerHTML = `Random item: <span class="badge badge-success bg-success">${randomItem}</span>`;

      } else {
        result.textContent = 'Items are empty!';
      }
    });

    // Reset array
    resetBtn.addEventListener('click', () => {
      dataArray.length = 0;
      result.innerHTML = '<span class="text-warning">Items deleted.</span>';
      textInput.value = '';
      updateArrayDisplay();
    });

    // Function to add an item
    function addItem() {
      const value = textInput.value.trim();
      if (value !== '') {
        if (!dataArray.includes(value)) { // Prevent duplicates
          dataArray.push(value);
          textInput.value = '';
          textInput.focus();
          result.textContent = ''; // Clear previous result
          updateArrayDisplay();
        } else {
        //   result.textContent = 'Item already exists!';
        result.innerHTML = '<span class="text-danger fw-bold">Item already exists!</span>';
      // Optional: Shake animation for emphasis
      textInput.classList.add('text-danger');
      setTimeout(() => textInput.classList.remove('text-danger'), 1000);
      setTimeout(() => result.textContent = '', 1000);
        }
      }
    }

    // Update the displayed array
    function updateArrayDisplay() {
        const display = document.getElementById('arrayDisplay');
      if (dataArray.length > 0) {
        // arrayDisplay.textContent = "Items:\n" + dataArray.join(', ');
        display.innerHTML = "Items:" + 
      dataArray.map(item => 
        `<span class="badge bg-secondary m-1">${item}</span>`
      ).join(' ');
      } else {
        arrayDisplay.textContent = 'Items are empty!';
      }
    }
  </script>
</body>
</html